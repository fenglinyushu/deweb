<!DOCTYPE html>                                                                    <html lang="en">                                                                                                                                                    <head>                                                                                <meta charset="utf-8">                                                            <meta name="viewport" content="width=device-width, initial-scale=1.0">            <meta http-equiv="X-UA-Compatible" content="ie=edge">                             <title>DeWeb : Delphi -Web</title>                                                          </head>                                                                           
<body style="background-color:#F0F0F0">
    <script src="dist/vue.js" type="text/javascript"></script>              <script src="dist/index.js" type="text/javascript"></script>            <script src="dist/axios.min.js" type="text/javascript"></script>        <link rel="icon" href="dist/webimages/[###].ico" type="image/x-icon">           <link rel="stylesheet" type="text/css" href="dist/theme-chalk/index.css" /> 
    <div id="app" style="position:absolute;overflow:hidden;left:0;right:0;bottom:0;margin: 0 auto;background-color:#FFFFFF" :style="{top:Default__top,width:Default__wid,height:Default__hei}" >
        <el-dialog :title="input_query_caption" :visible.sync="input_query_visible" >
        	<el-form style="width:90%;padding-left:5%;">
        		<el-form-item :label="input_query_inputname" >
        			<el-input v-model="input_query_inputdefault" autocomplete="off"></el-input>
        		</el-form-item>
        	</el-form>
        	<div slot="footer" class="dialog-footer">
        		<el-button @click="input_query_visible=false">{{input_query_cancelcaption}}</el-button>
        		<el-button type="primary" @click="processinputquery">{{input_query_okcaption}}</el-button>
        	</div>
        </el-dialog>
        <el-main v-if="Panel1__vis" :disabled="Panel1__dis" :style="{backgroundColor:Panel1__col,left:Panel1__lef,top:Panel1__top,width:Panel1__wid,height:Panel1__hei}" style="position:absolute;overflow:hidden;">
        <div  v-html="Label_deweb__cap" v-if="Label_deweb__vis" :disabled="Label_deweb__dis" :style="{left:Label_deweb__lef,top:Label_deweb__top,width:Label_deweb__wid,height:Label_deweb__hei}" style="position:absolute;color:#C8C8C8;font-family:'微软雅黑';font-size:18pt;font-weight:bold;font-style:italic;text-decoration:none;text-align:center;line-height:50px;">{{Label_deweb__cap}}
        </div>
        <el-image :src="Image_Lo__src" fit="none" v-if="Image_Lo__vis" :disabled="Image_Lo__dis" :style="{left:Image_Lo__lef,top:Image_Lo__top,width:Image_Lo__wid,height:Image_Lo__hei}" style="position:absolute;">
        </el-Image>
        </el-main>
        <el-menu class="el-menu-demo" background-color="#545c64" text-color="#fff" active-text-color="#ffd04b" :style="{left:MainMenu1__lef,top:MainMenu1__top,width:MainMenu1__wid,height:MainMenu1__hei}" style="position:absolute;line-height:30px;">
        <el-submenu index="0"><template slot="title">
        <i class="el-icon-eleme"></i>
        <span>系统文件</span></template>
        <el-menu-item index="1-0"><i class="el-icon-delete-solid"></i><span slot="title">数据维护</span></el-menu-item><el-menu-item index="1-1"><i class="el-icon-delete"></i><span slot="title">资料录入</span></el-menu-item><el-menu-item index="1-2"><i class="el-icon-s-home"></i><span slot="title">登录</span></el-menu-item><el-submenu index="1-3"><template slot="title"><i class="el-icon-user-solid"></i><span>计算机</span></template><el-menu-item index="1-3-0"><i class="el-icon-folder-add"></i><span slot="title">经济管理</span></el-menu-item><el-menu-item index="1-3-1"><i class="el-icon-more-outline"></i><span slot="title">国际政治</span></el-menu-item>    </template></el-submenu><el-menu-item index="1-4"><i class="el-icon-user"></i><span slot="title">退出</span></el-menu-item>
        </el-submenu>
        <el-menu-item index="1"><i class="el-icon-video-camera-solid"></i><span slot="title">项目管理</span></el-menu-item>
        <el-menu-item index="2"><i class="el-icon-help"></i><span slot="title">帮助</span></el-menu-item>
        
        </el-menu>
	 </div>
    <script>
	    Vue.prototype.procResp = function (data){
		    resp = JSON.parse(decodeURIComponent(String(data))); 
		    if (resp.mode === "update"){
		        eval(String(resp.code));
		    } else if (resp.mode === "showform"){
		        document.open();document.write(String(resp.code));
		    }
	    } 
        new Vue(
			{
				el: '#app',
				data: function () {
					return {
					    Default__top:"0px",
					    Default__wid:"800px",
					    Default__hei:"600px",
                        Label_deweb__lef:"51px",
                        Label_deweb__top:"0px",
                        Label_deweb__wid:"291px",
                        Label_deweb__hei:"50px",
                        Label_deweb__vis:true,
                        Label_deweb__dis:false,
                        Label_deweb__cap:"CRM客户关系管理系统",
                        Image_Lo__lef:"0px",
                        Image_Lo__top:"0px",
                        Image_Lo__wid:"51px",
                        Image_Lo__hei:"50px",
                        Image_Lo__vis:true,
                        Image_Lo__dis:false,
                        Image_Lo__src:"dist/webimages/Image_Lo.jpg",
                        Panel1__lef:"0px",
                        Panel1__top:"0px",
                        Panel1__wid:"800px",
                        Panel1__hei:"50px",
                        Panel1__vis:true,
                        Panel1__dis:false,
                        Panel1__col:"#545C64",
                        MainMenu1__lef:"0px",
                        MainMenu1__top:"50px",
                        MainMenu1__wid:"200px",
                        MainMenu1__hei:"550px",
					    input_query_visible:false,
					    input_query_caption:"Input Query",
					    input_query_inputname:"new",
					    input_query_cancelcaption:"Cancel",
					    input_query_okcaption:"OK",
					    input_query_inputdefault:"",
					    input_query_method:"processinputquery",
					    input_query_visible:false,
					    version__istrial:false,
					    clientid:[!clientid!]
                    }
                },
                mounted() {
                    let me=this;
                    window.addEventListener(
                        "onorientationchange" in window ? "orientationchange" : "resize",
                        function() {
                            axios.get('{"mode":"event","cid":[!clientid!],"component":"_screen","orientation":"'+window.orientation+'","clientwidth":'+document.documentElement.clientWidth+',"clientheight":'+document.documentElement.clientHeight+',"innerwidth":'+window.innerWidth+',"innerheight":'+window.innerHeight+',"width":'+screen.width+',"height":'+screen.height+'}')
                            .then(resp =>{me.procResp(resp.data)});
                        },
                        false
                    );
                    let Defaulthearttimer = window.setInterval(function() {
                        axios.get('{"mode":"heart","cid":[!clientid!]}')
                        .then(resp =>{me.procResp(resp.data)})
                        .catch((error) =>{me.dwnotify("Info","Network is disconnected!");clearInterval(Defaulthearttimer);});
                    }, 30000);
                },
				methods: {
                    dwnotify(caption,text) {this.$notify.warning({ title: caption, message: text, duration: 0,showClose: false });},
                    dwevent(val,compname,compvalue,compevent,reserved) {
                        var jo={};
                        jo.mode="event";
                        jo.cid=this.clientid;
                        jo.component=compname;
                        jo.value=escape(eval(compvalue))
                        jo.event=compevent;
                        axios.get(JSON.stringify(jo))
                        .then(resp =>{this.procResp(resp.data)});
                    },
                    processinputquery(val) {
                        this.input_query_visible = false;
                        axios.get('{"mode":"interaction","cid":[!clientid!],"class":"inputquery","method":"'+this.input_query_method+'","value":"'+this.input_query_inputdefault+'"}')
                        .then(resp =>{this.procResp(resp.data)});
                    },
                },
                beforeDestroy() {
                    clearInterval(hearttimer);
                }
            }
        ); 
    </script>
</body>
</html>
